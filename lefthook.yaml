# ------
# Hooks for workspace-configs itself.
# ------
min_version: 1.10.10

templates:
  run_npm: 'pnpm'

pre-commit:
  parallel: true
  jobs:
    - name: 'Auto-build Renovate Configurations'
      glob: 'renovate/*.yaml'
      group:
        piped: true
        jobs:
          - run: '{run_npm} build {staged_files}'
          # TODO: Find correctly method.
          # - run: 'git add renovate/*.json'
  commands:
    biome:
      glob: '*.{js,json,jsonc}'
      exclude:
        - 'renovate/*.json'
      run: '{run_npm} biome check --write {staged_files}'
      stage_fixed: true
